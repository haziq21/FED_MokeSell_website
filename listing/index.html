<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New listing | MokeSell</title>

    <link rel="icon" type="image/x-icon" href="../assets/favicon.ico">
    <link rel="stylesheet" href="../shared/reset.css">
    <link rel="stylesheet" href="../shared/base.css">
    <link rel="stylesheet" href="../shared/smallnav.css">
    <link rel="stylesheet" href="../shared/navbar.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"
        rel="stylesheet">

    <script src="script.js" type="module"></script>
</head>

<body x-data="listing">
    <nav class="navbar">
        <a href=".." class="display-contents"><img src="../assets/logo.png" alt="MokeSell logo"
                class="navbar__logo"></a>
        <input type="text" placeholder="Search MokeSell" class="textbox textbox--search">

        <template x-data="user" x-if="loggedIn !== null && !loggedIn">
            <div class="display-contents"> <!-- <template> can only contain one root element -->
                <a href="signup" class="navbar__btn">Sign up</a>
                <a href="login" class="navbar__btn">Log in</a>
            </div>
        </template>

        <template x-data="user" x-if="loggedIn !== null && loggedIn">
            <div class="display-contents">
                <a href="new-listing" class="navbar__btn">Create listing</a>
                <img src="../assets/default-pfp.jpg" alt="Profile picture" class="navbar__pfp">
            </div>
        </template>

        <div class="category-selector">
            <style id="cat-styles"></style>

            <!-- TODO: Populate this from the database -->
            <ul class="categories">
                <li><a href="#">Electronics</a></li>
                <li><a href="#">Home Appliances</a></li>
                <li><a href="#">Fashion</a></li>
                <li><a href="#">Books</a></li>
                <li><a href="#">Sport</a></li>
                <li><a href="#">Beauty & Health</a></li>
                <li><a href="#">Automotive</a></li>
                <li><a href="#">Furniture</a></li>
            </ul>

            <ul class="subcategories">
                <li><a href="#"><img src="../assets/logo.png" alt="">Mobile Phones</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Laptops</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Tablets</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Cameras</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Headphones</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Smart Watches</a></li>
            </ul>

            <ul class="subcategories">
                <li><a href="#"><img src="../assets/logo.png" alt="">Refrigerators</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Washing Machines</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Microwaves</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Air Conditioners</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Vacuum Cleaners</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Water Heaters</a></li>
            </ul>

            <ul class="subcategories">
                <li><a href="#"><img src="../assets/logo.png" alt="">Men's Clothing</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Women's Clothing</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Kid's Clothing</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Footwear</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Accessories</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Jewelry</a></li>
            </ul>

            <ul class="subcategories">
                <li><a href="#"><img src="../assets/logo.png" alt="">Fiction</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Non-Fiction</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Children's Books</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Educational</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Comics</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Magazines</a></li>
            </ul>

            <ul class="subcategories">
                <li><a href="#"><img src="../assets/logo.png" alt="">Fitness Equipment</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Outdoor Gear</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Sportswear</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Footwear</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Accessories</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Nutrition</a></li>
            </ul>

            <ul class="subcategories">
                <li><a href="#"><img src="../assets/logo.png" alt="">Skincare</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Haircare</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Makeup</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Fragrances</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Personal Care</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Health Supplements</a></li>
            </ul>

            <ul class="subcategories">
                <li><a href="#"><img src="../assets/logo.png" alt="">Car Accessories</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Motorcycle</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Car Electronics</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Car Care</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Motorcycle Gear</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Tools & Equipment</a></li>
            </ul>

            <ul class="subcategories">
                <li><a href="#"><img src="../assets/logo.png" alt="">Living Room</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Bedroom</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Office</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Outdoor</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Storage</a></li>
                <li><a href="#"><img src="../assets/logo.png" alt="">Decor</a></li>
            </ul>

            <!-- TODO: Perhaps there's a cleaner solution -->
            <script>
                // Construct CSS rules to style subcategories
                document.querySelectorAll('.categories li').forEach((_, n) => {
                    document.getElementById('cat-styles').textContent +=
                        `.categories:has(li:nth-of-type(${n + 1}):hover) ~ ul.subcategories:nth-of-type(${n + 2}),
                         ul.subcategories:nth-of-type(${n + 2}):hover { display: flex; }`;
                })
            </script>
        </div>
    </nav>
    <div class="category">
        <span x-text="category">Electronics</span> / <span x-text="subcategory">Networking</span>
    </div>
    <div class="images">
        <div class="image">
            <!-- <template x-for="url in imageUrls">
                <img :src="url">
            </template> -->
        </div>
    </div>

    <div style="display: flex; align-items: center;">
        <div class="listing-info">
            <div x-text="name" class="title"></div>
            <div class="price">
                <span class="currency">S$ </span>
                <span x-text="">45</span>
            </div>
            <div class="conditions">
                <span x-text="age"></span> &middot <span x-text="condition"></span>
            </div>
            <div class="description">
                <div class="title">
                    Description
                </div>

                <span x-text="description"></span>
            </div>
        </div>
        <div class="seller-purchase">
            <div class="seller-info">
                <img src="../assets/default-pfp.jpg" alt="Profile picture" class="pfp">
                <div class="username-followers">
                    <div x-text="" class="username">
                        david athensburger
                    </div>
                    <div class="followers">
                        <span x-text="">32</span><span> followers</span>
                    </div>
                </div>
            </div>
            <div class="offer-container">
                <a href="#">
                    <div><svg width="24" height="24" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M4.24992 16.75L1.85409 19.1459C1.52422 19.4757 1.14662 19.5495 0.721273 19.3672C0.295926 19.1849 0.083252 18.8594 0.083252 18.3907V2.16671C0.083252 1.59379 0.287245 1.10334 0.695231 0.695353C1.10322 0.287367 1.59367 0.083374 2.16658 0.083374H18.8333C19.4062 0.083374 19.8966 0.287367 20.3046 0.695353C20.7126 1.10334 20.9166 1.59379 20.9166 2.16671V14.6667C20.9166 15.2396 20.7126 15.7301 20.3046 16.1381C19.8966 16.546 19.4062 16.75 18.8333 16.75H4.24992ZM3.3645 14.6667H18.8333V2.16671H2.16658V15.8386L3.3645 14.6667Z"
                                fill="white" />
                        </svg>
                        Chat with seller
                    </div>
                </a>
            </div>
        </div>
    </div>

</body>